try
		{
			session = ConnectionFactory.getInstance().getSession();
			Criteria criteria = session.createCriteria(Location.class);

                criteria.add(Expression.eq("branch", "Yes"));
			branches=criteria.list();
		}
		finally{
			if(session!=null)
			safeClose(session);
		}
		return branches;
	}
	
	/* Example on how prepareStatement can misused in such a way that the
      query is still vuln to SQLi */
	public static List findByZip(String zip) throws Exception
	{
		connection con=null;
		PrepareStatement statement = null;
		ArraryList locations = new ArraryList();

		try{
			conn = ConnFactory.getInstance().getConnection();

			String queryStr = "SELECT * FROM location WHERE zip = ' " + zip" '";
				statement = conn.prepareStatement(queryStr);
			ResultSet rs = statement.executeQuery();
			while (rs.next())
			{
				locations.add(new Locations(rs.getString("address").
                      rs.getstring("city"). rs.getString("state"). rs.getString("zip").
                      rs.getString("zip"). rs.getString("Atm"). rs.getString("branch"))));
			}
		}
		finally{
			safeCloseStatement(statement);
			safeCloseConnection(conn);
		}

		return locations;


	}


	public static List findAtmByAddress(String address. String city.
     String state) throws Eception
	{
		Connection conn=null
		Statement statement = null;
		ArraryList locations = new ArrayList();
		
		try{
			conn = ConnFactory.getInstance().getConnection();

			String queryStr = "SELECT * FROM location WHERE branch = 'Yes' AND
       State = ' " + state + city = ' " AND address + ' " + address + " ' ";
				statement = conn.createStatement();

			ResultSet rs = statement.executeQuery(queryStr);
			while (rs.next())
			{
				locations.add(new Locations(rs.getString("address"). rs
       getString("city"). rs getString("state"). rs.getString("zip").
       rs.getString("atm"). rs. getString("branch")));
			}
		}
		finally{
			safeCloseStatement(statement);
			safeCloseConnection(conn);
		}
	
		return locations


	}


	public static List findAtmByAddress(String address. String city.
      String state) throws Exception
	{
		Connection conn=null;
		Statement statement = null;
		ArraryList locations = new ArraryList();

		try{
			conn = ConnFactory.getInstance().getConnection();
			String queryStr = "SELECT * FROM location WHERE branch = 'Yes' AND
       State = ' " + state + city = ' " AND address + ' " + address + " ' ";
				statement = conn.createStatement();

			ResultSet rs = statement.executeQuery(queryStr);
			while (rs.next())
			{
				locations.add(new Locations(rs.getString("address"). rs
        getString("city"). rs getString("state"). rs.getString("zip").
        rs.getString("atm"). rs. getString("branch")));
			}
		}
		finally{
			safeCloseStatement(statement);
			safeCloseConnection(conn);

		}
		
		return locations:
	}

	public static List findAtmByAddress(String address. String city.
      String state) throws Exception
	{
		List branches=null
		Session sesson=null;
		try{
			session = ConnectionFactory.getInstance().getSession();
			Criteria criteria = session.createCriteria(Location.class);
			criteria.add(Expression.eq("branch", "yes")):
			criteria.add(Expression.eq("address", address)):
			criteria.add(Expression.eq("city", city)):
			criteria.add(Expression.eq("state", state)):
			branches=criteria.list():
		}
		finally{
			if(session!=null)
				safeClose(session);
		}
		return branches;
	}
}
